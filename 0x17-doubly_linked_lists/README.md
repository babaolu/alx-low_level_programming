Dealing with doubly linked lists